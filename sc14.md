# セキュアプログラミング 第十四回

## 整数の表現

### 型変換

* 符号なしからの型変換
  * 大きな型への符号なしの変換
    * ゼロ埋めされる
  * 小さな方への符号なし変換
    * データが欠損する
  * 符号なしから符号ありへの変換
    * 最上位ビットが富豪ビットになる
      * →誤解釈が起こる

* 符号ありからの型変換
  * 同なじ大きさもしくはより大きい型への変換
    * 符号拡張が起こる
    * 符号ビットで埋められる
    * 誤解釈が起こる
  * 小さい型への変換
    * 上位ビットの切り捨てが起こる
    * データ欠損

* 整数エラー
  * 算術オーバーフロー
  * 符号エラー
  * 切り捨てエラー

* 四則演算のエラー判定方法
  * 事後条件による判定
    * 機械語レベルでのオーバーフロー検出
      * フラグレジスタの利用
        * オーバーフローフラグ(符号付き演算)
        * キャリーフラグ(符号なし)
  * 事前条件による判定
    * UNIT_MAXなどの最大値から判定
      * UINT_MAX - a < b
