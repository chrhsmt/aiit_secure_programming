# セキュアプログラミング 第四回

## 文字列操作

* 対抗策
  * C11規格の代替関数
    * strcpy -> strcpy_s
  * 入力値の検証とサニタイズ
    * 上限値チェック
    * 正規表現によるパターンマッチング
      * ホワイトリスト
      * ブラックリスト
    * エスケープ処理
  * 静的解析ツールを用いたソースコード検査
    * flawfinder
  * 動的解析ツールを用いた検証
    * メモリデバッガValgrind
      * オフバイワンエラー、バッファオーバーフロー
      * 無効なポインタによるメモリアクセス
      * メモリの二重解放
      * メモリリーク
  * コンパイラによるスタック保護コードの生成
    * `gcc -fstack-protector-all -o prog prog.c`
    * 戻り番地前にカナリア値を書き込みチェックする
  * Exec Shield
    * スタック上のコードを実行できなくする仕組み
  * アドレス空間のランダム化
    * ヒープ、スタック、ライブラリのアドレス空間上の位置をランダム化する
  * GCCのmudflap
  * Automatic Fortification
  * 実行時のメモリ操作チェック(glibc)
* アークインジェクション
  * スタックフレーム中の戻りアドレスを書き換えることで任意の関数を呼び出す攻撃
  *