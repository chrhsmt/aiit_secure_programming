# セキュアプログラミング 第三回

## 文字列操作

* C言語の文字列の特徴
  * オフバイワンエラー対策
    * 文字列領域は常に+1
    * 最大値+1を常に想定
    * メモリデバッガを使う
  * null終端エラー
    * strcpyが自動的にnull終端を書き込む事で、想定外のメモリ領域に書き込みが発生する
  * 間違いを起こしやすい関数
    * strcpy, strcat
      * 最大長を指定することが出来ない、無制限コピーが発生しやすい
      * strncatを使うと良い
    * gets
* バッファオーバーフロー
  * 文字列の境界を超えて書き込みを行なうこと
  * バッファオーバーフローが発生する理由
    * 文字列がnull終端
    * 配列・ポインタ操作で境界チェック
    * 標準ライブラリで境界チェックが無い
  * スタックフレームの戻りアドレスを任意の値で書き換える
  * コードインジェクション
  * アークインジェクション
* CIA